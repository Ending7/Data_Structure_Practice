역시 알고리즘만 제대로 짜고 난다면 구현은 마음먹기 달린 것 같다.

나는 데이터베이스도 배우고, 게임 서버DB도 만져봤으면서 뭐이리 어렵게 고민했는지 모르겠다.
특히 루넨시아 게임 같은 경우에는 클라이언로 몬스터를 소환할 때,
DB에 몬스터 파일에 No, 몬스터 타입과 몬스터 이름, 맵 번호 좌표 번호까지 직접 입력하여 그 곳에 스폰하였다.
엄청 오래된 게임인데 그 게임에서는 이런 수동적인 작업이 필요했고, 좋은 아이디어를 주었다.
역시 경험을 쌓는 것이 중요하다.

Unit 구조체 배열을 30개 만들고 그 곳에 소환될 몬스터들을 관리할 것이다.
즉, 모든 몬스터들은 이 배열에 각각의 공간에 저장이 될 것이다.
루넨시아 DB에서 테이블  = Unit 구조체
테이블에 1번부터 몬스터의 정보를 적어 클라이언트에서 소환
Unit 구조체 1번부터 몬스터 정보를 적어 Display()함수에서 소환

중요한건 ID와 몬스터 TYPE과 x, y좌표이다. 실제 클라이언트는 TYPE을 가지고 몬스터의 종류를 확인하여 스폰한다.
TYPE 옆에 몬스터 이름을 적어놓았는데 그것은 사용자가 구분하기 편하라고 적어놓는 것이다. 가시성인 것이다.
유니티 같은데서 몬스터를 만들 때 동적할당해서 객체를 만들고 죽으면 사라지도록 만들었는데
대강의 개념만 알지 malloc함수 사용법을 잘 몰라서 아직은 사용하지 않을 것이다.

[Display 함수]
먼저 유닛들의 좌표를 받아 Board함수에 넣어주는 함수가 필요하다. Insert함수를 만든다.
필드에 유닛이 있나 검사를 한다. 이 때 유닛이 있는지 없는지는 Field값이 0인지 아닌지를 가지고 판단한다.
먼저 Field를 0으로 초기화 해놨기 때문에 0은 유닛이 없는 상태이고, 필드 좌표에 유닛 ID를 Insert함수에서 삽입해놨기
때문에, 0이 아니라면 유닛이 있는 것으로 간주할 것이다.
만약 유닛이 있다면 unit 테이블을 검사하여 해당 아이디와 같은 아이디를 찾는다.
있다면 그 녀석의 TYPE을 확인하여 몬스터에 맞는 이니셜글자를 화면에 띄워준다.

[Insert 함수]
for문을 30번 돌려서 Unit 배열에서 TYPE이 0이 아닌 녀석들을 찾는다.
0은 죽은 몬스터로서 간주할 것이다.
죽은 몬스터가 아닌 녀석들을 필드에 소환할 것이다.
ID가 아닌 TYPE으로 찾는 이유: 나중에 유닛을 삭제를 하더라도 unit 배열 공간에 몬스터 ID는 그대로 남겨놓고, 나머지만 0으로 
바꿀 것이기 때문이다. 
만약 아이디로 검사를 해서 Field에 소환 했다면, 
Field에 죽은 몬스터가 계속 소환되게 될 것이다. Unit공간에 ID는 그대로 남아있기 때문이다.
나중에 몬스터를 생성하려고 좌표를 입력했을 때 죽은 몬스터가 그 자리를 차지하는 바람에 생성이 안된다.
 
만약 0이 아니라면 그 녀석의 x, y, ID를 복사하여, Board[x,y] = ID 이렇게 넣는다. 
0일땐 공백을 넣고, 다음 행으로 넘어갈 때 개행을 하도록 한다. 

[Produce 함수]
먼저 unit 구조체 배열에서 ID가 0인곳을 찾는다. 
0인곳을 찾았다면 그 곳에 유닛을 생성하게 될 것이다.

-화면에 1~6번까지 유닛 설명해주기-
1.생성하고 싶은 유닛을 고른다.
유닛을 골랐다면 해당 유닛의 type번호를 m_type에 복사한다. 
해보니까 m_type 필요 없다. 그냥 스위치문에서 1~6번 내가 알아서 숫자 넣어주면 된다.
2.좌표를 적는다. 
x 19 y 39를 올바르게 입력하지 않았다면 다시 입력하도록 한다.
올바르게 입력했다면 해당 좌표를 m_x, m_y에 복사한다.
3.나중에는 ID를 직접 입력하도록 바꿔야 하지만 이번 시험에는 프로그램이 임의에 ID를 부여하도록 해도 된다.
전역변수에 Unitid에서 유닛의 아이디를 관리하고 있다.
이녀석의 값을 하나 증가시키고, ID가 0이었던 인덱스에다 Unitid를 넣는다.
넣고나면 Unit 구조체 변수들을 올바른 값으로 채워넣어준다.
4.insert함수를 실행시켜 필드에 유닛을 소환시킨다.

[Destroy 함수]
좌표를 입력하면 그 좌표에 있는 id를 가져와서 unit 배열에서 찾아서 나머지 값을 다 0으로 초기화한다.
그리고 필드에 좌표를 0으로 바꾼다.